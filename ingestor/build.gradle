buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }
    dependencies {
        classpath 'com.h2database:h2:1.4.196'

    }
}

dependencies {
    compile project(":common")
    compile project(":common").sourceSets.test.output

    compile 'org.flywaydb:flyway-core:5.0.7'
    compile 'org.influxdb:influxdb-java:2.8'
}

jar {
    manifest {
        attributes(
                'Main-Class': 'com.dionysus.ingestor.IngestorAppKt',
                "Class-Path": configurations.runtimeClasspath.files.collect { it.toURI().toString() }.join(' ')
        )
    }
}

apply from: 'docker.gradle'